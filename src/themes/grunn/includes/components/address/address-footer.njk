{%- if env.mode != 'prod' %}<!-- src/themes/grunn/includes/components/address/address/address.njk-->{%- endif -%}

<section class="max-w-7xl mx-auto">

  {# This is used for the iphone / android so they  can work prober cause ... #}
  <script>
    function openinmap(map){
    // If it's an iPhone..
    if( (navigator.platform.indexOf("iPhone") != -1)
      || (navigator.platform.indexOf("iPod") != -1)
      || (navigator.platform.indexOf("iPad") != -1))
        window.open("maps://maps.google.com/?q=" + map);
    else
        window.open("https://maps.google.com/?q=" + map );
    }
  </script>

  {# title + text #}

  <article class="mx-auto max-w-3xl">
    {% if component.title %}
    <h3 class="text-5xl text-cyan-700 dark:text-cyan-200 py-4 text-center">
      {{ component.title }}
    </h3>
    {% endif %}
    {% if component.text %}
      <div class="prose prose-xl dark:prose-invert">
        {{ component.text  | markdown | safe  }}
      </div>
    {% endif %}
  </article>

  <div class="grid md:grid-cols-3 gap-4 my-4" aria-label="Address">
  {# <div class="max-w-7xl flex flex-row flex-wrap justify-center mx-auto pagewidth mt-8 bg-slate-300 dark:bg-slate-800"> #}

  {# address #}
  {% for item in component.address %}

    <article itemscope="" itemtype="http://schema.org/Organization" class="bg-slate-300 dark:bg-slate-900 p-4 rounded-lg">
      <h2 itemprop="name" class="text-2xl">{{ item.name }}</h2>

      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
      <div itemprop="streetAddress" class="pr-2">{{ item.street }}</div>

      <div class="flex flex-row">
        <div itemprop="addressLocality">{{ item.locality }}</div>
        <div itemprop="postalCode">{{ item.zip }}</div>
      </div>

      <div itemprop="addressCountry">{{ item.country }}</div>

      <div class="py-4">
        <div class="flex flex-row items-center">
          <div class="w-4 h-4 text-white mr-2">{% include "icons/phone.svg" %}</div>
          <a href="tel:+{{ item.phone | replace("", "") }}" itemprop="telephone">{{ item.phone }}</a>
        </div>

        <div class="flex flex-row items-center">
          <div class="w-4 h-4 text-white mr-2">{% include "icons/envelope.svg" %}</div>
          <a href="mailto:{{ item.email }}" itemprop="email">{{ item.email }}</a><br>
        </div>

        <div class="flex flex-row items-center">
          <div class="w-4 h-4 text-white mr-2">{% include "icons/arrow-top-right-on-square.svg" %}</div>
          <a itemprop="url" href="{{ item.url }}" target="_blank" rel="noopener">{{ item.url }}</a>
        </div>
      </div>

      <button
        onclick="openinmap('{{ site.address }},{{ site.zip }},{{ site.country }}')"
        target="_blank" rel="noopener" class="inline-flex flex-row items-center  p-1 font-bold"
        >
        <div class="w-4 mr-2">{% include "icons/map-pin.svg" %}</div>
        <div >Map</div>

      </button>


    </article>


  {% endfor %}

  </div>

</section>
