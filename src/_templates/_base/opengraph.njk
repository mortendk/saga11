{# OPENGRAPH
------------------------------------------------
Global header for the site
 #}
{%- if meta.env != 'prod' %}<!-- _base/opengraph.njk  -->{%- endif  -%}

wtf: {{ env.url }}
{# test if we have a title from the page #}
{% if title and  page.url != '/' %}
  {% set ogtitle = title %}
  {% set ogdescription = teaser %}
  {% set ogurl = env.url + page.url %}
  {% set fbimage = env.url + image  %}
  {% set twitterimage = env.url + image  %}
{# else use the site defaults #}
{% else %}
  {% set ogtitle = site.title %}
  {% set ogdescription = site.description %}
  {% set ogurl = env.url %}
  {% set fbimage = env.url + '/assets/opengraph/facebook.jpg' %}
  {% set twitterimage = env.url + '/assets/opengraph/twitter.jpg' %}
{% endif %}

{# Facebook #}
<meta property="og:site_name" content="{{site.title}}">
<meta property="og:title" content="{{ ogtitle }}">
<meta property="og:url" content="{{ ogurl }}">
<meta property="og:description" content="{{ ogdescription }}">
<meta property="og:type" content="website">
<meta property="og:image" content="{{ fbimage }}">
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="630"/>

{# Twitter #}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@{{some.twitter}}">
<meta name="twitter:title" content="{{ ogtitle }}">
<meta name="twitter:description" content="{{ ogdescription }}">
<meta name="twitter:image" content="{{ twitterimage }}">
