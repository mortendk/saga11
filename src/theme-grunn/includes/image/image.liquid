
{% comment %}
{% render 'image/image.liquid',
  file: image,
  markdownpath: markdownpath,
  sizes: "(min-width: 30em) 50vw, 100vw",
  widths: "640, 1024, 1280",
  format: "webp",
  loading: "lazy",
  css: "w-full"
%}
{% endcomment %}

{%- if file -%}
  {% comment %}
  lets figure out if its a local file or its from the big interwebs .. yes this is errorprone but
  {% endcomment %}
  {%- assign isitlocal = file | slice : 0, 5 -%}
  {%- if isitlocal == "https" -%}
    {%- assign img = file -%}
  {%- else -%}
    {%- assign markdownfile = markdownpath |  split: "/" | last -%}
    {%- assign img = markdownpath | remove: markdownfile | append: file -%}
  {%- endif -%}
   {% comment %} yes it needs to be an array cause reasons {% endcomment %}
  {%- assign width = widths | split: ', ' -%}
  {%- image img, width, format, alt, sizes, loading, css -%}
{%- endif -%}
