{%- if env.mode != 'prod' %}
<!-- ðŸ‘‹ sections src/theme-grunn/includes/components/collection/collection.liquid -->
{%- endif -%}

{% comment %}title + text {% endcomment %}
<article class="mx-auto max-w-3xl">
  {% if component.title %}
  <h2 class="text-5xl text-cyan-700 dark:text-cyan-200 py-4 text-center">
    {{ component.title }}
  </h2>
  {% endif %}

  {% if component.text %}
  <div class="text-xl">
    {{ component.text  | markdown   }}
  </div>
  {% endif %}

</article>

<section class="grid md:grid-cols-3 gap-4 my-4" aria-label="Collection">

  {% for item in collections[component.collection] %}

  {%- if env.mode != 'prod' %}
  <!-- markdown file: {{ item.inputPath }}  -->
  {%- endif -%}

  <article class="" aria-label="Post {{ item.data.title}}">
    <a href="{{ item.url }}" title="{{item.data.title}}" tabindex="0">

      <div class="shadow-lg aspect-video overflow-hidden">
        {% if item.data.card.image %}
        {% render
            'image.liquid',
            file: item.data.card.image,
            alt: title,
            sizes: "(min-width: 30em) 50vw, 100vw",
            widths: "400, 800",
            format: "webp",
            loading: "lazy",
            css: "w-full"
          %}
        {% endif %}
      </div>

      <div class="shadow border dark:border-none rounded px-4 py-2 border-gray-100 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100">
        <h3 class="mt-2 text-2xl dark:text-cyan-200">
          {{item.data.title}}
        </h3>

        <div class="mt-2">
          {{ item.data.card.text }}
        </div>

      </div>
    </a>

  </article>

  {% endfor %}
</section>